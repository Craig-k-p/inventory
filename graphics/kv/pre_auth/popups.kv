<PopupErrorContent>:
    box: box

    BoxLayout:
        orientation: 'vertical'
        id: box
        size_hint: (1, 1)
        pos_hint: {'x': 0, 'y': 0}
        Label:
            size_hint: (.2, .2)


<AllignLayout@AnchorLayout>:
    size_hint: (1, 1)
    anchor_x: 'left'
    anchor_y: 'bottom'


<PopLabel@Label>:
    bold: True
    color: app.kv_settings['text color']
    # This prevents the Label from taking up the whole width of the screen and subsequently centering the text
    # Allows the AnchorLayout to allign this widget along the x axis (left, center, right)
    size_hint: (None, None)
    # SETS THE SIZE OF THE LABEL TO ITS ACTUAL TEXT'S SIZE
    # https://stackoverflow.com/questions/24803773/...
    # ...how-do-i-set-minimum-allowable-width-height-for-widget-layout-in-kivy
    font_size: 22
    size: (self.texture_size[0]+10, self.texture_size[1])


<PopInput>:
    hint_text: 'required'
    color: app.kv_settings['text color']
    # Python way: Use on_focus and on_error to call self.setBackground
    background_color: (.8,.8,1,1) if self.focus else ((1,.8,.8,1) if self.error else (1,1,1,1))
    size_hint: (.9, None)
    height: self.minimum_height
    multiline: False
    font_size: 22
    error: False


<PopButton@Button>:
    color: app.kv_settings['text color']
    size_hint: (1, 1)
    font_size: 22


<PopPairGrid@GridLayout>:
    size_hint: (1, 1)
    cols: 1
    spacing: 10


<PopupThingContent>:  # ScrollView inheritance - popup.py
    description: description
    usd_value: usd_value
    weight: weight
    tags: tags
    submit_button: submit_button

    id: popup_content
    size_hint: (1, 1)

    GridLayout:
        cols: 1
        size_hint: (1, 1)
        padding: 10
        spacing: 10
        # Allow ScrollView to scroll (next two lines)
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 90
        row_force_default: True
        padding: 20
        spacing: 20

        PopPairGrid:
            cols: 1
            size_hint: (1, 1)
            AllignLayout:
                PopLabel:
                    text: 'Object description:'
            PopInput:
                id: description

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Object value (USD):'
            PopInput:
                id: usd_value

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Object weight (lbs):'
            PopInput:
                id: weight

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Searchable keyword tag:'
            PopInput:
                hint_text: 'Use an _ to make a multi-word tag'
                id: tags

        PopPairGrid:
            cols: 2
            size_hint: (1, None)
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'center'
                size_hint: (.5, 1)
                PopButton:
                    text: 'Cancel'
                    size_hint: (None, None)
                    size: (180, 90)
                    on_release:
                        app.pop.dismiss()
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'center'
                size_hint: (.5, 1)
                PopButton:
                    id: submit_button
                    text: 'Add to container'
                    size_hint: (None, None)
                    size: (180, 90)
                    on_release:
                        app.closePopup(popup_content=popup_content, object_class_str='thing')


<PopupContainerContent>:
    description: description
    usd_value: usd_value
    weight: weight
    tags: tags
    tags: []
    submit_button: submit_button

    id: popup_content
    size_hint: (1, 1)

    GridLayout:
        cols: 1
        size_hint: (1, 1)
        padding: 10
        spacing: 10
        # Allow ScrollView to scroll (next two lines)
        size_hint_y: None
        height: self.minimum_height
        row_default_height: 90
        row_force_default: True
        padding: 20
        spacing: 20

        PopPairGrid:
            cols: 1
            size_hint: (1, 1)
            AllignLayout:
                PopLabel:
                    text: 'Container description:'
            PopInput:
                id: description

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Container value (USD):'
            PopInput:
                id: usd_value

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Container empty weight (lbs):'
            PopInput:
                id: weight

        PopPairGrid:
            AllignLayout:
                PopLabel:
                    text: 'Short descriptive keyword tags:'
            PopInput:
                id: tags
                hint_text: 'Use an _ to make a multi-word tag'

        PopPairGrid:
            cols: 2
            size_hint: (1, None)
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'center'
                size_hint: (.5, 1)
                PopButton:
                    text: 'Cancel'
                    size_hint: (None, None)
                    size: (180, 90)
                    on_release:
                        app.pop.dismiss()
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'center'
                size_hint: (.5, 1)
                PopButton:
                    id: submit_button
                    size_hint: (None, None)
                    size: (180, 90)
                    on_release:
                        app.closePopup(popup_content=popup_content, object_class_str='container')
